<!DOCTYPE html>
<html>
<head>
    <title>Результаты анализа</title>
</head>
<body>
    <h2>Результаты файла</h2>
    <table border="1">
        <thead>
            <tr>
                <th>Термин</th>
                <th>TF</th>
                <th>IDF</th>
            </tr>
        </thead>
        <tbody id="table-body"></tbody>
    </table>

    <div>
        <button onclick="prevPage()">Назад</button>
        <span id="page-info"></span>
        <button onclick="nextPage()">Вперёд</button>
    </div>

    <script>
        const result = {{ result | tojson }};
        const pageSize = 50;
        let currentPage = 1;

        function renderPage() {
            const tbody = document.getElementById("table-body");
            tbody.innerHTML = "";

            const start = (currentPage - 1) * pageSize;
            const end = start + pageSize;
            const currentItems = result.slice(start, end);

            currentItems.forEach(item => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${item.term}</td>
                    <td>${item.tf}</td>
                    <td>${item.idf}</td>
                `;
                tbody.appendChild(row);
            });

            document.getElementById("page-info").textContent = `Страница ${currentPage} из ${Math.ceil(result.length / pageSize)}`;
        }

        function nextPage() {
            if (currentPage * pageSize < result.length) {
                currentPage++;
                renderPage();
            }
        }

        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                renderPage();
            }
        }

        renderPage();
    </script>
</body>
</html>
